# Changelog

本文记录 xf_ble 当前版本的显著更改。

## [1.3.x] (2025-03-12)

    1.  修改
        1. 事件类型、参数、注册、回调等分离为 gap，gattc，gatts 这三类
        1. 广播数据增加数据是否是指针的标记，以更好地处理不同类型的广播数据
        1. 广播相关函数增加 广播 ID 参数，广播方法改为：
            1. 创建（参数: 广播 ID ，广播参数，广播数据）
            1. 销毁（参数：广播 ID）
            1. 开启（参数：广播 ID，广播时长）
            1. 停止（参数：广播 ID）
            1. 设置广播数据（参数: 广播 ID ，广播数据）
        1. 扫描相关函数改为：
            1. 开启（参数：扫描参数）
            1. 停止（参数：无）
        1. ble 部分选项类型命名不变，定义改为 typedef + 对应长度的类型 + 类型名，其后紧跟这可选值的定义（如枚举值或宏值）
        1. 地址设置函数参数改为 xf_ble_addr_t 单个参数，外观获取改为从传出参数中获取
        1. 修复广播数据类型构造宏的大小不正确的问题，使用特性（如 __packed ）或 不定长数组的部分更改为更常规通用的方法
        1. 修改服务结构或服务结构发现的部分参数命名，部分参数类型或形式进行调整
        1. 服务结构新增包含服务数据量参数、服务属性总数以及服务属性映射表
        1. 服务结构添加方法改为传入可用空间的指针
        1. 补充安全部分的注释说明，修正部分命名

    1.  新增
        1. 增加对接辅助方法：传入广播数据单元集合信息，获取的总广播数据的大小；广播数据单元集合及 buf，按标准广播数据格式填充
        1. 增加配对特性设置函数
        1. 增加配对请求与响应的函数，增加对应的事件及参数
        1. 增加配对 passkey 互访函数
        1. 增加应用 ID 、广播 ID、连接 ID 关联、解绑、查找等函数
        1. 增加部分广播类型及对应可选值

